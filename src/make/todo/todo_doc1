I build the following script from the contents of the files mentioned in the comments.
The output on glibc is shown in 

```
#! /usr/bin/env bash

# We steal this ELF checking code from pkgs/stdenv/generic/setup.sh
# Return success if the specified file is an ELF object.
isELF() {
    local fn="$1"
    local fd
    local magic
    exec {fd}< "$fn"
    read -r -n 4 -u "$fd" magic
    exec {fd}<&-
    if [ "$magic" = $'\177ELF' ]; then return 0; else return 1; fi
}

# We steal this search code from pkgs/build-support/setup-hooks/separate-debug-info.sh
findFiles() {
    # Find executables and dynamic libraries.
    local i
    while IFS= read -r -d $'\0' i; do
        if ! isELF "$i"; then continue; fi
        # Output paths relative to the store path root
        echo "$i" | sed -E "s|/nix/store/[^/]+/|./|"
    done < <(find "$1" -type f -print0)
    }

findFiles "$1"
```


```
$ ./wat.sh $(nix-build "<nixpkgs>" -A glibc)/lib                                                        
./lib/librt-2.32.so     
./lib/libSegFault.so         
./lib/audit/sotruss-lib.so 
./lib/libnss_hesiod-2.32.so 
./lib/libdl-2.32.so          
./lib/libmvec-2.32.so  
./lib/libnss_dns-2.32.so  
./lib/crt1.o            
./lib/libutil-2.32.so   
./lib/crtn.o              
./lib/libthread_db-1.0.so    
./lib/libnsl-2.32.so    
./lib/libnss_db-2.32.so      
./lib/libm-2.32.so              
./lib/libresolv-2.32.so    
./lib/Scrt1.o             
./lib/ld-2.32.so           
./lib/libcrypt-2.32.so 
./lib/libnss_files-2.32.so    
./lib/libmemusage.so        
./lib/libBrokenLocale-2.32.so                                                                                                                                                                 
./lib/gconv/CP10007.so  
./lib/gconv/IBM1140.so                                                                                                                                                                        
./lib/gconv/DEC-MCS.so
./lib/gconv/BIG5HKSCS.so
```
